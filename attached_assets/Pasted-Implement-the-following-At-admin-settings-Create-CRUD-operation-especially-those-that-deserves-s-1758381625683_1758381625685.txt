Implement the following
•	At admin/settings: Create CRUD operation especially those that deserves should have one, and there are other settings that are not submitting data to DB, please fix them e.g. education, location
•	Create pages at admin for sending SMS to: Shortlisted candidates, successful appointed applicants, and staff communications through the system; for applicants should be based on vacant number he/she applied for basing on parameters established in the schema of jobs or applications SEE THIS EXAMPLE HERE=> [ <?php require('sessionmanager.php'); ?>
<?php require('sessionController.php'); ?>
<?php require('sessionNullController.php'); ?>
<?php require_once 'dbconnect.php' ?>

<!DOCTYPE html>
<html lang="en">
<head>
    <?php include('title.php'); ?>
    <?php include('favicon.php'); ?>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/dcalendar.picker.css" type="text/css">
    <link rel="stylesheet" href="datepicker/default.css" type="text/css">
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/dcalendar.picker.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="datepicker/zebra_datepicker.js"></script>
    <script language="javascript">
        function validate() {
            var chks = document.getElementsByName('checkbox[]');
            var hasChecked = false;
            for (var i = 0; i < chks.length; i++) {
                if (chks[i].checked) {
                    hasChecked = true;
                    break;
                }
            }
            if (hasChecked == false) {
                alert("Please select at least one Applicant to Send SMS.");
                return false;
            }
            return true;
        }
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#select_all").change(function () {
                $(".checkbox_class").prop("checked", $(this).prop("checked"));
            });
        });
    </script>
    <?php include 'sweetAlert.php'; ?>
</head>
<body>

<?php if ($_SESSION['groupID'] == 'System_Admin'): ?>
    <?php include 'navBarAdmin.php' ?>
<?php else: ?>
    <?php include 'navBar.php' ?>
<?php endif; ?>
<!--messages-->
<?php if (isset($_GET['sms-success'])): ?>
    <script>
        swal({
            title: "SMS Sent",
            text: "That SMS has been sent successfully!",
            type: "success"
        })
    </script>
<?php endif; ?>

<div class="container">
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12"
             style="background-color: #fff; box-shadow: inset 1px -1px 1px lightgray, inset -1px 1px 1px lightgray;">
            <div class="row">
                <!-- <div class="paddingClass">
                     <ol class="breadcrumb">
                         <li><a href="Applicant"> ShortList Applicant(s) </a></li>
                         <li><a href="interviewApplicants">Interview Shortlisted Applicant(s)</a></li>
                         <li><a href="SelectApplicant">Select Suitable Applicant(s)</a></li>
                         <li class="active">Send SMS to Applicant(s)</li>
                         <li><a href="sendEmail">Send Email to Applicant(s)</a></li>
                     </ol>
                 </div>-->
            </div>
            <h3 class="text text-center text-success">SEND SMS TO SELECTED SUITABLE APPLICANTS</h3>
            <div class="text-center">
                <?php require('balance.php'); ?>
            </div>
            <?php if (isset($_GET['Success'])): ?>
                <p class="text text-center alert alert-success"><span class="glyphicon glyphicon-ok-sign"></span> Your
                    SMS has been sent to Recipients
                    Successfully. </p>
            <?php endif; ?>

            <form class="form-horizontal" action="" method="GET">
                <div class="form-group">
                    <label for="JobApplication" class="col-sm-3 control-label">Select a Job:</label>
                    <div class="col-sm-3">

                        <select class="form-control" name="jobID" title="Select a job to get its Applicants" required>
                            <option value="<?php if (isset($_GET['jobID'])) {
                                echo $_GET['jobID'];
                            } ?>">
                                JobCode: <?php if (isset($_GET['jobID'])) {
                                    echo $_GET['jobID'];
                                } ?> </option>
                            <?php
                            $currentDate = date('Y-m-d');
                            $sql = "SELECT * FROM jobs WHERE lockShortlisting = 'No' ORDER BY jobID";
                            $result = mysqli_query($con, $sql);
                            $rows = [];
                            while ($row = mysqli_fetch_array($result)) {
                                $rows[] = $row;
                            }
                            ?>
                            <?php foreach ($rows as $myrow): ?>
                                <option select="selected"
                                        value="<?php echo $myrow['jobID']; ?>"> <?php echo $myrow['jobID'];
                                    echo '&nbsp; = &nbsp;';
                                    echo $myrow['jobTitle']; ?> </option>

                            <?php endforeach; ?>
                        </select>
                    </div>
                    <div class="col-sm-3">
                        <select class="form-control" name="applicantType" required>
                            <option value="<?php if (isset($_GET['applicantType'])) {
                                echo $_GET['applicantType'];
                            } ?>"> Type of applicant: <?php if (isset($_GET['applicantType'])) {
                                    echo $_GET['applicantType'];
                                } ?> </option>
                            <option value="AwardedJob">Applicants Awarded with Job</option>
                            <option value="NotAwardedJob">Applicants not awarded with job</option>
                        </select>
                    </div>
                    <div class="col-sm-3">
                        <input type="submit" name="viewApplicants" class="btn btn-success" value="Get List">
                    </div>
                </div>
            </form>
            <?php
            $myjob = null;
            if (isset($_GET['jobID'])) {
                $myjob = $_GET['jobID'];
            }
            $sql2 = "SELECT * FROM jobs WHERE jobID = '$myjob'";
            $result = mysqli_query($con, $sql2);
            $jobs = [];
            while ($job = mysqli_fetch_array($result)) {
                $jobs [] = $job;
            }
            ?>
            <?php foreach ($jobs as $job): ?>
                <p class="text text-center text-info"><?php echo $job['jobID'];
                $job_Title = $job['jobTitle'];
                    echo " ";
                    echo $job_Title; ?></p>
            <?php endforeach; ?>
            <?php
            $job = null;
            $applicantType = null;
            if (isset($_GET['jobID'])) {
                $job = $_GET['jobID'];
            }
            if (isset($_GET['applicantType'])) {
                $applicantType = $_GET['applicantType'];
            }
            $query = "SELECT * FROM jobs,jobapplied,personalinformation LEFT JOIN counties ON counties.COUNTYCODE = personalinformation.county WHERE jobapplied.email=personalinformation.email AND jobapplied.jobID = '$job' AND jobapplied.applicationStatus='Submitted' AND jobs.jobID='$job' AND jobapplied.interviewed = 'Yes' AND jobapplied.shortlisted='Yes' AND jobapplied.status='$applicantType' ORDER BY jobapplied.total DESC";
            $result = mysqli_query($con, $query) or die('Error: ' . mysqli_error($con));
            $queryCount = mysqli_query($con, "SELECT * FROM jobs,jobapplied,personalinformation WHERE jobapplied.email=personalinformation.email AND jobapplied.jobID = '$job' AND jobapplied.applicationStatus='Submitted' AND jobs.jobID='$job' AND jobapplied.interviewed = 'Yes' AND jobapplied.shortlisted='Yes' AND jobapplied.status='$applicantType' ");
            $rowcount = mysqli_num_rows($queryCount);
            echo "<p class='text text-center text-success'>Number of Applicants: <span class='badge badge-info'>$rowcount</span> </p>";
            mysqli_free_result($queryCount);
            $rows = [];
            if (isset($_GET['viewApplicants'])) {
                while ($row = mysqli_fetch_array($result)) {
                    $rows[] = $row;
                }
            }
            ?>
            <form action="processSMS.php" method="POST" onsubmit="return validate();">
                <input type="hidden" name="jobID" value="<?php if (isset($_GET['jobID'])) {
                    echo $_GET['jobID'];
                } ?>">
                <input type="hidden" name="applicantType" value="<?php if (isset($_GET['applicantType'])) {
                    echo $_GET['applicantType'];
                } ?>">
                <table class="table table-responsive table-striped table-bordered"
                       style="border:1px solid lightgray">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th><input type="checkbox" id="select_all" title=""/></th>
                        <th>Name</th>
                        <th>ID Number</th>
                        <th>Gender</th>
                        <th>Age</th>
                        <th>Ethnicity</th>
                        <th>County</th>
                        <th>Ward</th>
                        <th>Phone Number</th>
                        <th>Total Marks:</th>
                        <th>JobStatus</th>
                        <th>SMS-Status</th>
                    </tr>
                    </thead>
                    <?php foreach ($rows as $index => $row) : ?>
                        <tr>
                            <td><?php echo $index + 1 ?></td>
                            <td><input class='checkbox_class' name='checkbox[]' type='checkbox' id='checkbox[]'
                                       value=" <?php echo $row['uniqueID']; ?> " title=""/></td>
                            <td><?php echo $row['fullName'] ?></td>
                            <td><?php echo $row['nationalID'] ?></td>
                            <td><?php echo $row['gender'] ?></td>
                            <td><?php echo $row['age']; ?></td>
                            <td><?php echo $row['ethnicity'] ?></td>
                            <td><?php echo $row['COUNTYNAME'] ?></td>
                            <td><?php echo $row['ward'] ?></td>
                            <td><?php echo $row['phoneNumber'] ?></td>
                            <td><?php echo $row['total'] ?></td>
                            <td class="text-danger"><?php echo $row['status']; ?></td>
                            <td class="text-success text-uppercase"><?php echo $row['sendSMS']; ?></td>
                        </tr>
                    <?php endforeach; ?>
                </table>
                <?php if ($rowcount <= 0): ?>
                    <p class="alert alert-info text-center"><span class="glyphicon glyphicon-info-sign"></span> No List
                        of Applicants is available for the selected job.</p>
                <?php endif; ?>
                <?php 
                $sms = "Trans-Nzoia County Public Service Board wishes to congratulate you on your successful interview for the position of ". (TRIM($job_Title)) .".You will receive a call from the Department of PSM with details on when to collect your Offer of Appointment. Thank you."; 
                $sms1 = "Trans-Nzoia County Public Service Board regrets to inform you that you were unsuccessful in your interview for the position of ". (TRIM($job_Title)) .". Please try again next time.Thank you."
                ?>
                <div class="form-group text-center">
                        <textarea name="sms" cols="70" rows="8" placeholder="Write your Short Message (SMS) here..."
                                  required><?=($_SESSION['email']==$_ && $_GET['applicantType']=="AwardedJob") ? $sms : $sms1 ?></textarea>
                </div>
                
                <div class="form-group text-center">
                    <?php if($_SESSION['email'] == $_) : ?>
                        <?php if($_GET['applicantType']=="AwardedJob"): ?>
                                <input type="submit" name="sendsms" value="Send SMS" class="btn btn-success"
                                onclick="return confirm('You are about to send an SMS to the selected Applicant(s). Continue? ')">
                        <?php else :?>
                                <input type="submit" name="sendsms" disabled value="Send SMS" class="btn btn-success"
                                onclick="return confirm('You are about to send an SMS to the selected Applicant(s). Continue? ')">
                        <?php endif; ?>
                    <?php else :?>
                            <input type="submit" name="sendsms" value="Send SMS" class="btn btn-success"
                           onclick="return confirm('You are about to send an SMS to the selected Applicant(s). Continue? ')">
                    <?php endif;?>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    $(window).load(function () {
        // PAGE IS FULLY LOADED
        // FADE OUT YOUR OVERLAYING DIV
        $('#overlay').fadeOut();
    });
</script>
<?php require('footer.php'); ?>
</body>
</html>]
// processing sms
<?php
require('sessionmanager.php');
require('dbconnect.php');
$sessionEmail = $_SESSION['email'];
date_default_timezone_set("Africa/Nairobi");
$smsDate = date("Y-m-d h:i:sa");
$date = date("Y-m-d");
if (isset($_POST['sms'])) {
    $myMessage = mysqli_real_escape_string($con, $_POST['sms']);
}
if (isset($_POST['jobID'])) {
    $job = $_POST['jobID'];
}
if (isset($_POST['applicantType'])) {
    $applicantType = $_POST['applicantType'];
}
if ($_POST['sendsms']) {
    ($sessionEmail == $_) ? $sql_1 = "UPDATE jobs SET Ad_status='30' WHERE jobID='$job'" : "";
        mysqli_query($con, $sql_1) or die('Error' . mysqli_error());
    for ($i = 0; $i < count($_POST['checkbox']); $i++) {
        $del_id = $_POST['checkbox'][$i];
        $myQuery = mysqli_query($con, "SELECT phoneNumber AS phone FROM jobapplied,personalinformation WHERE jobapplied.email=personalinformation.email AND uniqueID='$del_id'");
        $myResult = mysqli_fetch_assoc($myQuery);
        $myPhone = $myResult['phone'];
        $sql2 = "UPDATE jobapplied SET sendSMS='Sent' WHERE uniqueID='$del_id'";
        mysqli_query($con, $sql2);
        $query3 = ("INSERT INTO auditlog (eventPerformed, perfomedby, whoIsAffected,timeOfEvent,dateOfEvent) VALUES ('Sent SMS ','$sessionEmail','SMS was sent to: 0$myPhone Message Sent: $myMessage','$smsDate','$date')");
        mysqli_query($con, $query3);
        $sql = "SELECT phoneNumber FROM jobapplied,personalinformation WHERE jobapplied.email=personalinformation.email AND uniqueID='$del_id'";
        $result = mysqli_query($con, $sql) or die('Error' . mysqli_error());
        while ($row = mysqli_fetch_array($result)) {
            $phoneNumber = $row['phoneNumber'];
            $kenya = '+254';
// Be sure to include the file you've just downloaded
            require_once('AfricasTalkingGateway.php');
// Specify your login credentials
            $username = "psbtranzoia";
            $apikey = "ac032317df044ab3ba9ecb488af3a1aebd51a4c89a5460ceeffc25f79e9011db";
// Specify the numbers that you want to send to in a comma-separated list
// Please ensure you include the country code (+254 for Kenya in this case)
            $recipients = $kenya . $phoneNumber;
// And of course we want our recipients to know what we really do
            $message = $myMessage;
// Create a new instance of our awesome gateway class
            $gateway = new AfricasTalkingGateway($username, $apikey);
// Any gateway error will be captured by our custom Exception class below,
// so wrap the call in a try-catch block
            try {
// Thats it, hit send and we'll take care of the rest.
                $results = $gateway->sendMessage($recipients, $message);
                foreach ($results as $result) {
// status is either "Success" or "error message"
                   /* echo " Number: " . $result->number;
                    echo " Status: " . $result->status;
                    echo " MessageId: " . $result->messageId;
                    echo " Cost: " . $result->cost . "\n";*/
                }
            } catch (AfricasTalkingGatewayException $e) {
                echo "Encountered an error while sending: " . $e->getMessage();
            }
        }
    }
    redirect("sendSMS?jobID={$job}&applicantType={$applicantType}&viewApplicants=Get List&sms-success");
}
mysqli_close($con);
?>
•	Implement fully HomeCarousel where it should have pictures that can be setup from the admin side;
•	At admin/notifications: Complete and make it live with error free to handle every design intended to perform

